{% extends 'base.html' %}
{% block content %}

{% if request.user.is_authenticated %}
    {{ request.user }}
    <a href="{% url 'logout' %}">Logout</a>
{% else %}
<a href="{% url 'login' %}">Login</a>
{% endif %}
<hr>

<h1>To Do Detail</h1>
<a href="{% url 'createTask' %}" class="btn">Add task</a>
<p>
    <table>
        <tr>
            <th>Items</th>
            <th></th>
        </tr>
        {% for task in tasks %}
            <tr>
                <td>
                    {% if task.complete == True %}
                        <span style="color: red;">{{ task }}</span>
                    {% else %}
                        <span style="color: green;">{{ task }}</span>
                    {% endif %}
                </td>
                <td><a href="{% url 'task' task.id %}">View</a></td>
                <td><a href="{% url 'updateTask' task.id %}">Edit</a></td>
                <td><a href="{% url 'deleteTask' task.id %}">Delete</a></td>
            </tr>
        {% endfor %}
    </table>
    Items not completed: {{ count }}
</p>
{% endblock content %}